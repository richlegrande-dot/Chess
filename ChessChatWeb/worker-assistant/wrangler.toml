# Cloudflare Worker Service: AI Coaching Assistant
# This is a standalone Worker (NOT Pages) that provides AI coaching
# for the ChessChat application via service bindings.
#
# IMPORTANT: This worker does NOT generate chess moves.
# It only provides coaching narratives and explanations.
#
# DEPLOYMENT:
# This Worker is deployed via `wrangler deploy` from worker-assistant/
#
# Dashboard settings:
# - Repository: richlegrande-dot/Chess
# - Branch: main
# - Path: ChessChatWeb/worker-assistant
# - Build command: npm ci
# - Deploy command: npx wrangler deploy --env production

name = "walle-assistant"
main = "src/index-coaching.ts"
compatibility_date = "2024-11-21"
compatibility_flags = ["nodejs_compat"]

# Worker service type (not Pages)
workers_dev = true

# Secrets (set via wrangler secret put)
# - INTERNAL_AUTH_TOKEN (optional, for Worker API authentication)
# - OPENAI_API_KEY (optional, if using OpenAI for narratives)
# - ANTHROPIC_API_KEY (optional, if using Anthropic)

[env.production]
# Production environment
# Add secrets via: wrangler secret put INTERNAL_AUTH_TOKEN --env production

[env.staging]
# Staging environment
# Add secrets via: wrangler secret put INTERNAL_AUTH_TOKEN --env staging
