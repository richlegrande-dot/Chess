# Cloudflare Worker Service: Wall-E Assistant
# This is a standalone Worker (NOT Pages) that provides AI assistance
# for the ChessChat application via service bindings.
#
# DEPLOYMENT:
# This Worker is deployed via Cloudflare Worker Service Builds (Git integration).
# Build/deploy commands are configured in the Cloudflare dashboard, NOT here.
#
# Dashboard settings:
# - Path: ChessChatWeb/worker-assistant
# - Build command: cd .. && npm ci && cd worker-assistant && npm ci
# - Deploy command: npx wrangler deploy --env production

name = "walle-assistant"
main = "src/index.ts"
compatibility_date = "2024-11-21"
compatibility_flags = ["nodejs_compat"]

# Worker service type (not Pages)
workers_dev = true

# Environment bindings (optional, for database access)
[env.production]
# Add DATABASE_URL as a secret:
# wrangler secret put DATABASE_URL --env production

[env.staging]
# wrangler secret put DATABASE_URL --env staging
